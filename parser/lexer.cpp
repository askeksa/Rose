/* This file was generated by SableCC (http://www.sablecc.org/). */

#include <sstream>

#include "node.h"
#include "token.h"
#include "lexer.h"

extern "C" {

static struct {
  const rose::_TypeInfo *type_info;
  const char *text;
} make_table[] = {
  {&rose::TDefy::type_info, "defy"},
  {&rose::TDone::type_info, "done"},
  {&rose::TDraw::type_info, "draw"},
  {&rose::TElse::type_info, "else"},
  {&rose::TFace::type_info, "face"},
  {&rose::TFork::type_info, "fork"},
  {&rose::TMove::type_info, "move"},
  {&rose::TPlan::type_info, "plan"},
  {&rose::TProc::type_info, "proc"},
  {&rose::TRand::type_info, "rand"},
  {&rose::TSeed::type_info, "seed"},
  {&rose::TSine::type_info, "sine"},
  {&rose::TSize::type_info, "size"},
  {&rose::TTemp::type_info, "temp"},
  {&rose::TTint::type_info, "tint"},
  {&rose::TTurn::type_info, "turn"},
  {&rose::TWait::type_info, "wait"},
  {&rose::TWhen::type_info, "when"},
  {&rose::TLPar::type_info, "("},
  {&rose::TRPar::type_info, ")"},
  {&rose::TPlus::type_info, "+"},
  {&rose::TMinus::type_info, "-"},
  {&rose::TMul::type_info, "*"},
  {&rose::TDiv::type_info, "/"},
  {&rose::TEq::type_info, "--"},
  {&rose::TNe::type_info, "!="},
  {&rose::TLt::type_info, "<"},
  {&rose::TLe::type_info, "<="},
  {&rose::TGt::type_info, ">"},
  {&rose::TGe::type_info, ">="},
  {&rose::TAnd::type_info, "&"},
  {&rose::TOr::type_info, "|"},
  {&rose::TAssign::type_info, "="},
  {&rose::TNeg::type_info, "~"},
  {&rose::TQuestion::type_info, "?"},
  {&rose::TColon::type_info, ":"},
  {&rose::TNumber::type_info, ""},
  {&rose::TIdentifier::type_info, ""},
  {&rose::TColor::type_info, ""},
  {&rose::TBlank::type_info, ""},
  {&rose::TComment::type_info, ""},
};

static int _accept_1[] = { -1, 39, 39, 39, 39, -1, -1, 30, 18, 19, 22, 20, 21, 23, 36, 35, 26, 32, 28, 34, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 31, 33, 39, 25, -1, 40, 40, 24, -1, -1, 27, 29, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 40, 36, -1, -1, -1, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 38, 38, 38, };

static int *_accept[] = {
  _accept_1,
};

static int _g_1_1_1[] = {9, 9, 1};
static int _g_1_1_2[] = {10, 10, 2};
static int _g_1_1_3[] = {13, 13, 3};
static int _g_1_1_4[] = {32, 32, 4};
static int _g_1_1_5[] = {33, 33, 5};
static int _g_1_1_6[] = {35, 35, 6};
static int _g_1_1_7[] = {38, 38, 7};
static int _g_1_1_8[] = {40, 40, 8};
static int _g_1_1_9[] = {41, 41, 9};
static int _g_1_1_10[] = {42, 42, 10};
static int _g_1_1_11[] = {43, 43, 11};
static int _g_1_1_12[] = {45, 45, 12};
static int _g_1_1_13[] = {47, 47, 13};
static int _g_1_1_14[] = {48, 57, 14};
static int _g_1_1_15[] = {58, 58, 15};
static int _g_1_1_16[] = {60, 60, 16};
static int _g_1_1_17[] = {61, 61, 17};
static int _g_1_1_18[] = {62, 62, 18};
static int _g_1_1_19[] = {63, 63, 19};
static int _g_1_1_20[] = {65, 90, 20};
static int _g_1_1_21[] = {95, 95, 21};
static int _g_1_1_22[] = {97, 99, 22};
static int _g_1_1_23[] = {100, 100, 23};
static int _g_1_1_24[] = {101, 101, 24};
static int _g_1_1_25[] = {102, 102, 25};
static int _g_1_1_26[] = {103, 108, 22};
static int _g_1_1_27[] = {109, 109, 26};
static int _g_1_1_28[] = {110, 111, 22};
static int _g_1_1_29[] = {112, 112, 27};
static int _g_1_1_30[] = {113, 113, 22};
static int _g_1_1_31[] = {114, 114, 28};
static int _g_1_1_32[] = {115, 115, 29};
static int _g_1_1_33[] = {116, 116, 30};
static int _g_1_1_34[] = {117, 118, 22};
static int _g_1_1_35[] = {119, 119, 31};
static int _g_1_1_36[] = {120, 122, 22};
static int _g_1_1_37[] = {124, 124, 32};
static int _g_1_1_38[] = {126, 126, 33};
static int _g_1_2_1[] = {9, 32, -2};
static int _g_1_3_1[] = {9, 32, -2};
static int _g_1_4_1[] = {9, 9, 1};
static int _g_1_4_2[] = {10, 10, 34};
static int _g_1_4_3[] = {13, 32, -2};
static int _g_1_5_1[] = {9, 32, -2};
static int _g_1_6_1[] = {61, 61, 35};
static int _g_1_7_1[] = {0, 9, 36};
static int _g_1_7_2[] = {10, 10, 37};
static int _g_1_7_3[] = {11, 12, 36};
static int _g_1_7_4[] = {13, 13, 38};
static int _g_1_7_5[] = {14, 65535, 36};
static int _g_1_13_1[] = {45, 45, 39};
static int _g_1_15_1[] = {46, 46, 40};
static int _g_1_15_2[] = {48, 57, 14};
static int _g_1_15_3[] = {58, 58, 41};
static int _g_1_17_1[] = {61, 61, 42};
static int _g_1_19_1[] = {61, 61, 43};
static int _g_1_21_1[] = {48, 57, 44};
static int _g_1_21_2[] = {65, 90, 45};
static int _g_1_21_3[] = {95, 95, 46};
static int _g_1_21_4[] = {97, 122, 47};
static int _g_1_22_1[] = {48, 122, -22};
static int _g_1_23_1[] = {48, 122, -22};
static int _g_1_24_1[] = {48, 95, -22};
static int _g_1_24_2[] = {97, 100, 47};
static int _g_1_24_3[] = {101, 101, 48};
static int _g_1_24_4[] = {102, 110, 47};
static int _g_1_24_5[] = {111, 111, 49};
static int _g_1_24_6[] = {112, 113, 47};
static int _g_1_24_7[] = {114, 114, 50};
static int _g_1_24_8[] = {115, 122, 47};
static int _g_1_25_1[] = {48, 95, -22};
static int _g_1_25_2[] = {97, 107, 47};
static int _g_1_25_3[] = {108, 108, 51};
static int _g_1_25_4[] = {109, 122, 47};
static int _g_1_26_1[] = {48, 95, -22};
static int _g_1_26_2[] = {97, 97, 52};
static int _g_1_26_3[] = {98, 110, 47};
static int _g_1_26_4[] = {111, 111, 53};
static int _g_1_26_5[] = {112, 122, 47};
static int _g_1_27_1[] = {48, 95, -22};
static int _g_1_27_2[] = {97, 110, 47};
static int _g_1_27_3[] = {111, 111, 54};
static int _g_1_27_4[] = {112, 122, 47};
static int _g_1_28_1[] = {48, 107, -26};
static int _g_1_28_2[] = {108, 108, 55};
static int _g_1_28_3[] = {109, 113, 47};
static int _g_1_28_4[] = {114, 114, 56};
static int _g_1_28_5[] = {115, 122, 47};
static int _g_1_29_1[] = {48, 95, -22};
static int _g_1_29_2[] = {97, 97, 57};
static int _g_1_29_3[] = {98, 122, 47};
static int _g_1_30_1[] = {48, 100, -25};
static int _g_1_30_2[] = {101, 101, 58};
static int _g_1_30_3[] = {102, 104, 47};
static int _g_1_30_4[] = {105, 105, 59};
static int _g_1_30_5[] = {106, 122, 47};
static int _g_1_31_1[] = {48, 100, -25};
static int _g_1_31_2[] = {101, 101, 60};
static int _g_1_31_3[] = {102, 104, 47};
static int _g_1_31_4[] = {105, 105, 61};
static int _g_1_31_5[] = {106, 116, 47};
static int _g_1_31_6[] = {117, 117, 62};
static int _g_1_31_7[] = {118, 122, 47};
static int _g_1_32_1[] = {48, 95, -22};
static int _g_1_32_2[] = {97, 97, 63};
static int _g_1_32_3[] = {98, 103, 47};
static int _g_1_32_4[] = {104, 104, 64};
static int _g_1_32_5[] = {105, 122, 47};
static int _g_1_35_1[] = {9, 32, -2};
static int _g_1_37_1[] = {0, 65535, -8};
static int _g_1_39_1[] = {10, 10, 65};
static int _g_1_41_1[] = {48, 57, 66};
static int _g_1_42_1[] = {48, 57, 67};
static int _g_1_42_2[] = {65, 70, 68};
static int _g_1_42_3[] = {97, 102, 69};
static int _g_1_45_1[] = {48, 122, -22};
static int _g_1_46_1[] = {48, 122, -22};
static int _g_1_47_1[] = {48, 122, -22};
static int _g_1_48_1[] = {48, 122, -22};
static int _g_1_49_1[] = {48, 95, -22};
static int _g_1_49_2[] = {97, 101, 47};
static int _g_1_49_3[] = {102, 102, 70};
static int _g_1_49_4[] = {103, 122, 47};
static int _g_1_50_1[] = {48, 95, -22};
static int _g_1_50_2[] = {97, 109, 47};
static int _g_1_50_3[] = {110, 110, 71};
static int _g_1_50_4[] = {111, 122, 47};
static int _g_1_51_1[] = {48, 95, -22};
static int _g_1_51_2[] = {97, 97, 72};
static int _g_1_51_3[] = {98, 122, 47};
static int _g_1_52_1[] = {48, 95, -22};
static int _g_1_52_2[] = {97, 114, 47};
static int _g_1_52_3[] = {115, 115, 73};
static int _g_1_52_4[] = {116, 122, 47};
static int _g_1_53_1[] = {48, 95, -22};
static int _g_1_53_2[] = {97, 98, 47};
static int _g_1_53_3[] = {99, 99, 74};
static int _g_1_53_4[] = {100, 122, 47};
static int _g_1_54_1[] = {48, 95, -22};
static int _g_1_54_2[] = {97, 113, 47};
static int _g_1_54_3[] = {114, 114, 75};
static int _g_1_54_4[] = {115, 122, 47};
static int _g_1_55_1[] = {48, 95, -22};
static int _g_1_55_2[] = {97, 117, 47};
static int _g_1_55_3[] = {118, 118, 76};
static int _g_1_55_4[] = {119, 122, 47};
static int _g_1_56_1[] = {48, 95, -22};
static int _g_1_56_2[] = {97, 97, 77};
static int _g_1_56_3[] = {98, 122, 47};
static int _g_1_57_1[] = {48, 110, -28};
static int _g_1_57_2[] = {111, 111, 78};
static int _g_1_57_3[] = {112, 122, 47};
static int _g_1_58_1[] = {48, 109, -51};
static int _g_1_58_2[] = {110, 110, 79};
static int _g_1_58_3[] = {111, 122, 47};
static int _g_1_59_1[] = {48, 100, -25};
static int _g_1_59_2[] = {101, 101, 80};
static int _g_1_59_3[] = {102, 122, 47};
static int _g_1_60_1[] = {48, 109, -51};
static int _g_1_60_2[] = {110, 110, 81};
static int _g_1_60_3[] = {111, 121, 47};
static int _g_1_60_4[] = {122, 122, 82};
static int _g_1_61_1[] = {48, 95, -22};
static int _g_1_61_2[] = {97, 108, 47};
static int _g_1_61_3[] = {109, 109, 83};
static int _g_1_61_4[] = {110, 122, 47};
static int _g_1_62_1[] = {48, 109, -51};
static int _g_1_62_2[] = {110, 110, 84};
static int _g_1_62_3[] = {111, 122, 47};
static int _g_1_63_1[] = {48, 113, -55};
static int _g_1_63_2[] = {114, 114, 85};
static int _g_1_63_3[] = {115, 122, 47};
static int _g_1_64_1[] = {48, 95, -22};
static int _g_1_64_2[] = {97, 104, 47};
static int _g_1_64_3[] = {105, 105, 86};
static int _g_1_64_4[] = {106, 122, 47};
static int _g_1_65_1[] = {48, 100, -25};
static int _g_1_65_2[] = {101, 101, 87};
static int _g_1_65_3[] = {102, 122, 47};
static int _g_1_67_1[] = {48, 57, 66};
static int _g_1_68_1[] = {48, 57, 88};
static int _g_1_68_2[] = {65, 70, 89};
static int _g_1_68_3[] = {97, 102, 90};
static int _g_1_69_1[] = {48, 102, -69};
static int _g_1_70_1[] = {48, 102, -69};
static int _g_1_71_1[] = {48, 95, -22};
static int _g_1_71_2[] = {97, 120, 47};
static int _g_1_71_3[] = {121, 121, 91};
static int _g_1_71_4[] = {122, 122, 47};
static int _g_1_72_1[] = {48, 100, -25};
static int _g_1_72_2[] = {101, 101, 92};
static int _g_1_72_3[] = {102, 122, 47};
static int _g_1_73_1[] = {48, 95, -22};
static int _g_1_73_2[] = {97, 118, 47};
static int _g_1_73_3[] = {119, 119, 93};
static int _g_1_73_4[] = {120, 122, 47};
static int _g_1_74_1[] = {48, 100, -25};
static int _g_1_74_2[] = {101, 101, 94};
static int _g_1_74_3[] = {102, 122, 47};
static int _g_1_75_1[] = {48, 100, -25};
static int _g_1_75_2[] = {101, 101, 95};
static int _g_1_75_3[] = {102, 122, 47};
static int _g_1_76_1[] = {48, 95, -22};
static int _g_1_76_2[] = {97, 106, 47};
static int _g_1_76_3[] = {107, 107, 96};
static int _g_1_76_4[] = {108, 122, 47};
static int _g_1_77_1[] = {48, 100, -25};
static int _g_1_77_2[] = {101, 101, 97};
static int _g_1_77_3[] = {102, 122, 47};
static int _g_1_78_1[] = {48, 109, -51};
static int _g_1_78_2[] = {110, 110, 98};
static int _g_1_78_3[] = {111, 122, 47};
static int _g_1_79_1[] = {48, 98, -54};
static int _g_1_79_2[] = {99, 99, 99};
static int _g_1_79_3[] = {100, 122, 47};
static int _g_1_80_1[] = {48, 95, -22};
static int _g_1_80_2[] = {97, 99, 47};
static int _g_1_80_3[] = {100, 100, 100};
static int _g_1_80_4[] = {101, 122, 47};
static int _g_1_81_1[] = {48, 99, -81};
static int _g_1_81_2[] = {100, 100, 101};
static int _g_1_81_3[] = {101, 122, 47};
static int _g_1_82_1[] = {48, 100, -25};
static int _g_1_82_2[] = {101, 101, 102};
static int _g_1_82_3[] = {102, 122, 47};
static int _g_1_83_1[] = {48, 100, -25};
static int _g_1_83_2[] = {101, 101, 103};
static int _g_1_83_3[] = {102, 122, 47};
static int _g_1_84_1[] = {48, 95, -22};
static int _g_1_84_2[] = {97, 111, 47};
static int _g_1_84_3[] = {112, 112, 104};
static int _g_1_84_4[] = {113, 122, 47};
static int _g_1_85_1[] = {48, 95, -22};
static int _g_1_85_2[] = {97, 115, 47};
static int _g_1_85_3[] = {116, 116, 105};
static int _g_1_85_4[] = {117, 122, 47};
static int _g_1_86_1[] = {48, 109, -51};
static int _g_1_86_2[] = {110, 110, 106};
static int _g_1_86_3[] = {111, 122, 47};
static int _g_1_87_1[] = {48, 115, -86};
static int _g_1_87_2[] = {116, 116, 107};
static int _g_1_87_3[] = {117, 122, 47};
static int _g_1_88_1[] = {48, 109, -51};
static int _g_1_88_2[] = {110, 110, 108};
static int _g_1_88_3[] = {111, 122, 47};
static int _g_1_89_1[] = {48, 57, 109};
static int _g_1_89_2[] = {65, 70, 110};
static int _g_1_89_3[] = {97, 102, 111};
static int _g_1_90_1[] = {48, 102, -90};
static int _g_1_91_1[] = {48, 102, -90};
static int _g_1_92_1[] = {48, 122, -22};
static int _g_1_93_1[] = {48, 122, -22};
static int _g_1_94_1[] = {48, 122, -22};
static int _g_1_95_1[] = {48, 122, -22};
static int _g_1_96_1[] = {48, 122, -22};
static int _g_1_97_1[] = {48, 122, -22};
static int _g_1_98_1[] = {48, 122, -22};
static int _g_1_99_1[] = {48, 122, -22};
static int _g_1_100_1[] = {48, 122, -22};
static int _g_1_101_1[] = {48, 122, -22};
static int _g_1_102_1[] = {48, 122, -22};
static int _g_1_103_1[] = {48, 122, -22};
static int _g_1_104_1[] = {48, 122, -22};
static int _g_1_105_1[] = {48, 122, -22};
static int _g_1_106_1[] = {48, 122, -22};
static int _g_1_107_1[] = {48, 122, -22};
static int _g_1_108_1[] = {48, 122, -22};
static int _g_1_109_1[] = {48, 122, -22};

static int *_g_1_1[] = {
        (int*)38,
        _g_1_1_1,
        _g_1_1_2,
        _g_1_1_3,
        _g_1_1_4,
        _g_1_1_5,
        _g_1_1_6,
        _g_1_1_7,
        _g_1_1_8,
        _g_1_1_9,
        _g_1_1_10,
        _g_1_1_11,
        _g_1_1_12,
        _g_1_1_13,
        _g_1_1_14,
        _g_1_1_15,
        _g_1_1_16,
        _g_1_1_17,
        _g_1_1_18,
        _g_1_1_19,
        _g_1_1_20,
        _g_1_1_21,
        _g_1_1_22,
        _g_1_1_23,
        _g_1_1_24,
        _g_1_1_25,
        _g_1_1_26,
        _g_1_1_27,
        _g_1_1_28,
        _g_1_1_29,
        _g_1_1_30,
        _g_1_1_31,
        _g_1_1_32,
        _g_1_1_33,
        _g_1_1_34,
        _g_1_1_35,
        _g_1_1_36,
        _g_1_1_37,
        _g_1_1_38,
};
static int *_g_1_2[] = {
        (int*)1,
        _g_1_2_1,
};
static int *_g_1_3[] = {
        (int*)1,
        _g_1_3_1,
};
static int *_g_1_4[] = {
        (int*)3,
        _g_1_4_1,
        _g_1_4_2,
        _g_1_4_3,
};
static int *_g_1_5[] = {
        (int*)1,
        _g_1_5_1,
};
static int *_g_1_6[] = {
        (int*)1,
        _g_1_6_1,
};
static int *_g_1_7[] = {
        (int*)5,
        _g_1_7_1,
        _g_1_7_2,
        _g_1_7_3,
        _g_1_7_4,
        _g_1_7_5,
};
static int *_g_1_8[] = {
        (int*)0,
};
static int *_g_1_9[] = {
        (int*)0,
};
static int *_g_1_10[] = {
        (int*)0,
};
static int *_g_1_11[] = {
        (int*)0,
};
static int *_g_1_12[] = {
        (int*)0,
};
static int *_g_1_13[] = {
        (int*)1,
        _g_1_13_1,
};
static int *_g_1_14[] = {
        (int*)0,
};
static int *_g_1_15[] = {
        (int*)3,
        _g_1_15_1,
        _g_1_15_2,
        _g_1_15_3,
};
static int *_g_1_16[] = {
        (int*)0,
};
static int *_g_1_17[] = {
        (int*)1,
        _g_1_17_1,
};
static int *_g_1_18[] = {
        (int*)0,
};
static int *_g_1_19[] = {
        (int*)1,
        _g_1_19_1,
};
static int *_g_1_20[] = {
        (int*)0,
};
static int *_g_1_21[] = {
        (int*)4,
        _g_1_21_1,
        _g_1_21_2,
        _g_1_21_3,
        _g_1_21_4,
};
static int *_g_1_22[] = {
        (int*)1,
        _g_1_22_1,
};
static int *_g_1_23[] = {
        (int*)1,
        _g_1_23_1,
};
static int *_g_1_24[] = {
        (int*)8,
        _g_1_24_1,
        _g_1_24_2,
        _g_1_24_3,
        _g_1_24_4,
        _g_1_24_5,
        _g_1_24_6,
        _g_1_24_7,
        _g_1_24_8,
};
static int *_g_1_25[] = {
        (int*)4,
        _g_1_25_1,
        _g_1_25_2,
        _g_1_25_3,
        _g_1_25_4,
};
static int *_g_1_26[] = {
        (int*)5,
        _g_1_26_1,
        _g_1_26_2,
        _g_1_26_3,
        _g_1_26_4,
        _g_1_26_5,
};
static int *_g_1_27[] = {
        (int*)4,
        _g_1_27_1,
        _g_1_27_2,
        _g_1_27_3,
        _g_1_27_4,
};
static int *_g_1_28[] = {
        (int*)5,
        _g_1_28_1,
        _g_1_28_2,
        _g_1_28_3,
        _g_1_28_4,
        _g_1_28_5,
};
static int *_g_1_29[] = {
        (int*)3,
        _g_1_29_1,
        _g_1_29_2,
        _g_1_29_3,
};
static int *_g_1_30[] = {
        (int*)5,
        _g_1_30_1,
        _g_1_30_2,
        _g_1_30_3,
        _g_1_30_4,
        _g_1_30_5,
};
static int *_g_1_31[] = {
        (int*)7,
        _g_1_31_1,
        _g_1_31_2,
        _g_1_31_3,
        _g_1_31_4,
        _g_1_31_5,
        _g_1_31_6,
        _g_1_31_7,
};
static int *_g_1_32[] = {
        (int*)5,
        _g_1_32_1,
        _g_1_32_2,
        _g_1_32_3,
        _g_1_32_4,
        _g_1_32_5,
};
static int *_g_1_33[] = {
        (int*)0,
};
static int *_g_1_34[] = {
        (int*)0,
};
static int *_g_1_35[] = {
        (int*)1,
        _g_1_35_1,
};
static int *_g_1_36[] = {
        (int*)0,
};
static int *_g_1_37[] = {
        (int*)1,
        _g_1_37_1,
};
static int *_g_1_38[] = {
        (int*)0,
};
static int *_g_1_39[] = {
        (int*)1,
        _g_1_39_1,
};
static int *_g_1_40[] = {
        (int*)0,
};
static int *_g_1_41[] = {
        (int*)1,
        _g_1_41_1,
};
static int *_g_1_42[] = {
        (int*)3,
        _g_1_42_1,
        _g_1_42_2,
        _g_1_42_3,
};
static int *_g_1_43[] = {
        (int*)0,
};
static int *_g_1_44[] = {
        (int*)0,
};
static int *_g_1_45[] = {
        (int*)1,
        _g_1_45_1,
};
static int *_g_1_46[] = {
        (int*)1,
        _g_1_46_1,
};
static int *_g_1_47[] = {
        (int*)1,
        _g_1_47_1,
};
static int *_g_1_48[] = {
        (int*)1,
        _g_1_48_1,
};
static int *_g_1_49[] = {
        (int*)4,
        _g_1_49_1,
        _g_1_49_2,
        _g_1_49_3,
        _g_1_49_4,
};
static int *_g_1_50[] = {
        (int*)4,
        _g_1_50_1,
        _g_1_50_2,
        _g_1_50_3,
        _g_1_50_4,
};
static int *_g_1_51[] = {
        (int*)3,
        _g_1_51_1,
        _g_1_51_2,
        _g_1_51_3,
};
static int *_g_1_52[] = {
        (int*)4,
        _g_1_52_1,
        _g_1_52_2,
        _g_1_52_3,
        _g_1_52_4,
};
static int *_g_1_53[] = {
        (int*)4,
        _g_1_53_1,
        _g_1_53_2,
        _g_1_53_3,
        _g_1_53_4,
};
static int *_g_1_54[] = {
        (int*)4,
        _g_1_54_1,
        _g_1_54_2,
        _g_1_54_3,
        _g_1_54_4,
};
static int *_g_1_55[] = {
        (int*)4,
        _g_1_55_1,
        _g_1_55_2,
        _g_1_55_3,
        _g_1_55_4,
};
static int *_g_1_56[] = {
        (int*)3,
        _g_1_56_1,
        _g_1_56_2,
        _g_1_56_3,
};
static int *_g_1_57[] = {
        (int*)3,
        _g_1_57_1,
        _g_1_57_2,
        _g_1_57_3,
};
static int *_g_1_58[] = {
        (int*)3,
        _g_1_58_1,
        _g_1_58_2,
        _g_1_58_3,
};
static int *_g_1_59[] = {
        (int*)3,
        _g_1_59_1,
        _g_1_59_2,
        _g_1_59_3,
};
static int *_g_1_60[] = {
        (int*)4,
        _g_1_60_1,
        _g_1_60_2,
        _g_1_60_3,
        _g_1_60_4,
};
static int *_g_1_61[] = {
        (int*)4,
        _g_1_61_1,
        _g_1_61_2,
        _g_1_61_3,
        _g_1_61_4,
};
static int *_g_1_62[] = {
        (int*)3,
        _g_1_62_1,
        _g_1_62_2,
        _g_1_62_3,
};
static int *_g_1_63[] = {
        (int*)3,
        _g_1_63_1,
        _g_1_63_2,
        _g_1_63_3,
};
static int *_g_1_64[] = {
        (int*)4,
        _g_1_64_1,
        _g_1_64_2,
        _g_1_64_3,
        _g_1_64_4,
};
static int *_g_1_65[] = {
        (int*)3,
        _g_1_65_1,
        _g_1_65_2,
        _g_1_65_3,
};
static int *_g_1_66[] = {
        (int*)0,
};
static int *_g_1_67[] = {
        (int*)1,
        _g_1_67_1,
};
static int *_g_1_68[] = {
        (int*)3,
        _g_1_68_1,
        _g_1_68_2,
        _g_1_68_3,
};
static int *_g_1_69[] = {
        (int*)1,
        _g_1_69_1,
};
static int *_g_1_70[] = {
        (int*)1,
        _g_1_70_1,
};
static int *_g_1_71[] = {
        (int*)4,
        _g_1_71_1,
        _g_1_71_2,
        _g_1_71_3,
        _g_1_71_4,
};
static int *_g_1_72[] = {
        (int*)3,
        _g_1_72_1,
        _g_1_72_2,
        _g_1_72_3,
};
static int *_g_1_73[] = {
        (int*)4,
        _g_1_73_1,
        _g_1_73_2,
        _g_1_73_3,
        _g_1_73_4,
};
static int *_g_1_74[] = {
        (int*)3,
        _g_1_74_1,
        _g_1_74_2,
        _g_1_74_3,
};
static int *_g_1_75[] = {
        (int*)3,
        _g_1_75_1,
        _g_1_75_2,
        _g_1_75_3,
};
static int *_g_1_76[] = {
        (int*)4,
        _g_1_76_1,
        _g_1_76_2,
        _g_1_76_3,
        _g_1_76_4,
};
static int *_g_1_77[] = {
        (int*)3,
        _g_1_77_1,
        _g_1_77_2,
        _g_1_77_3,
};
static int *_g_1_78[] = {
        (int*)3,
        _g_1_78_1,
        _g_1_78_2,
        _g_1_78_3,
};
static int *_g_1_79[] = {
        (int*)3,
        _g_1_79_1,
        _g_1_79_2,
        _g_1_79_3,
};
static int *_g_1_80[] = {
        (int*)4,
        _g_1_80_1,
        _g_1_80_2,
        _g_1_80_3,
        _g_1_80_4,
};
static int *_g_1_81[] = {
        (int*)3,
        _g_1_81_1,
        _g_1_81_2,
        _g_1_81_3,
};
static int *_g_1_82[] = {
        (int*)3,
        _g_1_82_1,
        _g_1_82_2,
        _g_1_82_3,
};
static int *_g_1_83[] = {
        (int*)3,
        _g_1_83_1,
        _g_1_83_2,
        _g_1_83_3,
};
static int *_g_1_84[] = {
        (int*)4,
        _g_1_84_1,
        _g_1_84_2,
        _g_1_84_3,
        _g_1_84_4,
};
static int *_g_1_85[] = {
        (int*)4,
        _g_1_85_1,
        _g_1_85_2,
        _g_1_85_3,
        _g_1_85_4,
};
static int *_g_1_86[] = {
        (int*)3,
        _g_1_86_1,
        _g_1_86_2,
        _g_1_86_3,
};
static int *_g_1_87[] = {
        (int*)3,
        _g_1_87_1,
        _g_1_87_2,
        _g_1_87_3,
};
static int *_g_1_88[] = {
        (int*)3,
        _g_1_88_1,
        _g_1_88_2,
        _g_1_88_3,
};
static int *_g_1_89[] = {
        (int*)3,
        _g_1_89_1,
        _g_1_89_2,
        _g_1_89_3,
};
static int *_g_1_90[] = {
        (int*)1,
        _g_1_90_1,
};
static int *_g_1_91[] = {
        (int*)1,
        _g_1_91_1,
};
static int *_g_1_92[] = {
        (int*)1,
        _g_1_92_1,
};
static int *_g_1_93[] = {
        (int*)1,
        _g_1_93_1,
};
static int *_g_1_94[] = {
        (int*)1,
        _g_1_94_1,
};
static int *_g_1_95[] = {
        (int*)1,
        _g_1_95_1,
};
static int *_g_1_96[] = {
        (int*)1,
        _g_1_96_1,
};
static int *_g_1_97[] = {
        (int*)1,
        _g_1_97_1,
};
static int *_g_1_98[] = {
        (int*)1,
        _g_1_98_1,
};
static int *_g_1_99[] = {
        (int*)1,
        _g_1_99_1,
};
static int *_g_1_100[] = {
        (int*)1,
        _g_1_100_1,
};
static int *_g_1_101[] = {
        (int*)1,
        _g_1_101_1,
};
static int *_g_1_102[] = {
        (int*)1,
        _g_1_102_1,
};
static int *_g_1_103[] = {
        (int*)1,
        _g_1_103_1,
};
static int *_g_1_104[] = {
        (int*)1,
        _g_1_104_1,
};
static int *_g_1_105[] = {
        (int*)1,
        _g_1_105_1,
};
static int *_g_1_106[] = {
        (int*)1,
        _g_1_106_1,
};
static int *_g_1_107[] = {
        (int*)1,
        _g_1_107_1,
};
static int *_g_1_108[] = {
        (int*)1,
        _g_1_108_1,
};
static int *_g_1_109[] = {
        (int*)1,
        _g_1_109_1,
};
static int *_g_1_110[] = {
        (int*)0,
};
static int *_g_1_111[] = {
        (int*)0,
};
static int *_g_1_112[] = {
        (int*)0,
};

static int **_g_1[] = {
        _g_1_1,
        _g_1_2,
        _g_1_3,
        _g_1_4,
        _g_1_5,
        _g_1_6,
        _g_1_7,
        _g_1_8,
        _g_1_9,
        _g_1_10,
        _g_1_11,
        _g_1_12,
        _g_1_13,
        _g_1_14,
        _g_1_15,
        _g_1_16,
        _g_1_17,
        _g_1_18,
        _g_1_19,
        _g_1_20,
        _g_1_21,
        _g_1_22,
        _g_1_23,
        _g_1_24,
        _g_1_25,
        _g_1_26,
        _g_1_27,
        _g_1_28,
        _g_1_29,
        _g_1_30,
        _g_1_31,
        _g_1_32,
        _g_1_33,
        _g_1_34,
        _g_1_35,
        _g_1_36,
        _g_1_37,
        _g_1_38,
        _g_1_39,
        _g_1_40,
        _g_1_41,
        _g_1_42,
        _g_1_43,
        _g_1_44,
        _g_1_45,
        _g_1_46,
        _g_1_47,
        _g_1_48,
        _g_1_49,
        _g_1_50,
        _g_1_51,
        _g_1_52,
        _g_1_53,
        _g_1_54,
        _g_1_55,
        _g_1_56,
        _g_1_57,
        _g_1_58,
        _g_1_59,
        _g_1_60,
        _g_1_61,
        _g_1_62,
        _g_1_63,
        _g_1_64,
        _g_1_65,
        _g_1_66,
        _g_1_67,
        _g_1_68,
        _g_1_69,
        _g_1_70,
        _g_1_71,
        _g_1_72,
        _g_1_73,
        _g_1_74,
        _g_1_75,
        _g_1_76,
        _g_1_77,
        _g_1_78,
        _g_1_79,
        _g_1_80,
        _g_1_81,
        _g_1_82,
        _g_1_83,
        _g_1_84,
        _g_1_85,
        _g_1_86,
        _g_1_87,
        _g_1_88,
        _g_1_89,
        _g_1_90,
        _g_1_91,
        _g_1_92,
        _g_1_93,
        _g_1_94,
        _g_1_95,
        _g_1_96,
        _g_1_97,
        _g_1_98,
        _g_1_99,
        _g_1_100,
        _g_1_101,
        _g_1_102,
        _g_1_103,
        _g_1_104,
        _g_1_105,
        _g_1_106,
        _g_1_107,
        _g_1_108,
        _g_1_109,
        _g_1_110,
        _g_1_111,
        _g_1_112,
};

static int ***_goto_table[] = {
        _g_1,
};

static rose::Lexer::State transitions[41][1] = {
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
          {
        rose::Lexer::INITIAL, 
},
};

} // extern "C" {


rose::StreamReader::StreamReader ( const std::string& path)
{
  std::filebuf *fbuf = new std::filebuf();
  fbuf->open (path.c_str(), std::ios::in|std::ios::binary);
  inbuf = fbuf;
  do_delete = true;
  eof = false;
}

rose::Lexer::Lexer (StreamReader *stream_reader, bool own_reader)
     : stream_reader (stream_reader), own_reader (own_reader)
{
  state = INITIAL;
  line = 0;
  pos = 0;
  cr = false;
}

rose::Lexer::Lexer (const std::string& path)
{
  stream_reader = new StreamReader (path);
  own_reader = true;
  state = INITIAL;
  line = 0;
  pos = 0;
  cr = false;
}

rose::Lexer::~Lexer ()
{
  if ( own_reader ) delete stream_reader;
}

rose::Token rose::Lexer::peek ()
{
  while ( !token ) {
      token = getToken ();
      filter();
  }

  return token;
}

rose::Token rose::Lexer::next ()
{
  while ( !token ) {
      token = getToken ();
      filter();
  }

  Token ret = token;
  token = Token();
  return ret;
}

void rose::Lexer::filter ()
{
}

void rose::Lexer::unread (Token token)
{
  const std::string& text = token.getText();
  for ( int i = (int) text.size() - 1; i >= 0; i-- )
      stream_reader->unget (text[i]);
  pos = token.getPos() - 1;
  line = token.getLine() - 1;
}

rose::Token rose::Lexer::getToken ()
{
  int dfa_state = 0;

  int start_pos = pos;
  int start_line = line;

  int accept_state = -1;
  int accept_token = -1;
  int accept_length = -1;
  int accept_pos = -1;
  int accept_line = -1;

  int ***goto_table = _goto_table[state];
  int *accept = _accept[state];
  text.clear();

  while (true) {
      int c = stream_reader->get();

      if ( c != -1 ) {
          switch (c) {
            case 10:
              if ( cr ) {
                  cr = false;
              } else {
                  line++;
                  pos = 0;
              }
              break;
            case 13:
              line++;
              pos = 0;
              cr = true;
              break;
            default:
              pos++;
              cr = false;
              break;

          }

          text.push_back(c);
          do {
              int oldState = (dfa_state < -1) ? (-2 - dfa_state) : dfa_state;

              dfa_state = -1;

              int** tmp1 =  goto_table[oldState];
              int low = 1;
              int high = (int) reinterpret_cast<size_t>(tmp1[0]);

              while(low <= high)
              {
                  int middle = (low + high) / 2;
                  int* tmp2 = tmp1[middle];

                  if(c < tmp2[0])
                  {
                      high = middle - 1;
                  }
                  else if(c > tmp2[1])
                  {
                      low = middle + 1;
                  }
                  else
                  {
                      dfa_state = tmp2[2];
                      break;
                  }
              }
          } while ( dfa_state < -1 );
      } else {
          dfa_state = -1;
      }

      if ( dfa_state >= 0 ) {
          if(accept[dfa_state] != -1) {
              accept_state = dfa_state;
              accept_token = accept[dfa_state];
              accept_length = (int) text.size();
              accept_pos = pos;
              accept_line = line;
          }
      } else {
          if ( accept_state != -1 ) {
              // pushBack
              for ( int i = (int)text.size() - 1; i >= accept_length; i-- )
                  stream_reader->unget (text[i]);

              pos = accept_pos;
              line = accept_line;

              int rline = start_line + 1;
              int rpos = start_pos + 1;

              state = transitions[accept_token][state];

              if ( make_table[accept_token].type_info->token_is_mutable ) {
                  return _GenericNode::initToken (make_table[accept_token].type_info,
                      rline, rpos, std::string (text.begin(), text.begin() + accept_length));
              } else {
                  return _GenericNode::initToken (make_table[accept_token].type_info,
                      rline, rpos, make_table[accept_token].text);
              }
          } else {
              if( text.size() ) {
                  std::ostringstream str;
                  str << "[" << (start_line + 1) << "," << (start_pos + 1) <<
                      "] Unknown token: " << std::string(text.begin(), text.end());
                  throw LexerException (start_line + 1, start_pos + 1, str.str());
              } else {
                  return TEOF::make(start_line + 1, start_pos + 1);
              }
          }
      }
  }
  throw Exception ("Should never get here");
}
